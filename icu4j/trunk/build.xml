<!-- 
/*
*******************************************************************************
* Copyright (C) 1997-2000, International Business Machines Corporation and    *
* others. All Rights Reserved.                                                *
*******************************************************************************
*
* $Source: /xsrl/Nsvn/icu/icu4j/build.xml,v $ 
* $Date: 2000/04/21 00:19:24 $ 
* $Revision: 1.13 $
*
*******************************************************************************
* This is the ant build file for ICU4J.  See readme.html for more information.
*/
-->

<project name="ICU4J" default="core" basedir=".">

  <target name="init">
    <tstamp/>
    <property name="src.dir" value="src"/>
    <property name="doc.dir" value="doc"/>
    <property name="build.dir" value="classes"/>
    <property name="obsolete.dir" value="build"/>
    <property name="jar.file" value="icu4j.jar"/>
    <property name="zip.file" value="../icu4j${DSTAMP}.zip"/>
    <property name="zipsrc.file" value="../icu4jsrc${DSTAMP}.zip"/>
    <property name="classpath" value="${build.dir}"/>
    <property name="build.compiler" value="classic"/>
    <property name="richedit.dist.dir" value="richeditDist"/>
    <property name="richedit.cont.dir" value="richedit"/>
    <property name="richedit.archive.dir" value="${richedit.dist.dir}/${richedit.cont.dir}"/>
    <property name="richedit.jar.file" value="${richedit.archive.dir}/richedit.jar"/>
    <property name="richedit.zip.file" value="${richedit.dist.dir}/richedit.zip"/>
    <property name="richedit.manifest" value="${richedit.dist.dir}/manifest.stub"/>
  </target>

  <target name="all" depends="core,tests,tools,demos,jar,docs"/>
  
  <target name="core">
    <mkdir dir="${build.dir}"/>
    <copyfile src="${src.dir}/com/ibm/text/resources/thai_dict"
    	   dest="${build.dir}/com/ibm/text/resources/thai_dict"/>
    <javac includes="com/ibm/util/**/*.java,com/ibm/text/**/*.java,com/ibm/math/**/*.java,com/ibm/richtext/**/*.java"
           excludes="**/CVS/**/*"
           srcdir="${src.dir}"
    	   destdir="${build.dir}" 
    	   classpath="${classpath}"
           debug="on" deprecation="off" target="1.2"/>
  </target>
  
  <target name="tests" depends="core">
    <javac includes="com/ibm/test/**/*.java"
           excludes="**/CVS/**/*"
    	   srcdir="${src.dir}"
    	   destdir="${build.dir}" 
    	   classpath="${classpath}"
           debug="on" deprecation="off" target="1.2"/>
  </target>
  
  <target name="demos" depends="core">
    <javac includes="com/ibm/demo/**/*.java"
           excludes="**/CVS/**/*"
    	   srcdir="${src.dir}"
    	   destdir="${build.dir}" 
    	   classpath="${classpath}"
           debug="on" deprecation="off" target="1.2"/>
    <copyfile src="${src.dir}/com/ibm/demo/rbbi/english_dict"
    	   dest="${build.dir}/com/ibm/text/resources/english_dict"/>
  </target>
  
  <target name="tools" depends="core">
    <javac includes="com/ibm/tools/**/*.java"
           excludes="**/CVS/**/*"
    	   srcdir="${src.dir}"
    	   destdir="${build.dir}" 
    	   classpath="${classpath}"
           debug="on" deprecation="off" target="1.2"/>
  </target>
  
  <target name="docs" depends="core">
    <mkdir dir="${doc.dir}"/>
    <javadoc  packagenames="com.ibm.util,com.ibm.text,com.ibm.math,com.ibm.richtext.awtui,com.ibm.richtext.swingui,com.ibm.richtext.textpanel,com.ibm.richtext.styledtext,com.ibm.textlayout.attributes,com.ibm.richtext.print"
              sourcepath="${src.dir}"
    		  destdir="${doc.dir}"
    		  nodeprecatedlist="true"
			  windowtitle="ICU4J"
			  doctitle="ICU4J"
			  encoding="iso-8859-1"
			  docencoding="iso-8859-1"
			  bottom="&lt;font size=-1>Copyright (c) 1998-2000 IBM Corporation and others.&lt;/font>"
    		  />    		  
  </target>

  <target name="jar" depends="core">
    <jar jarfile="${jar.file}"
         includes="com/ibm/util/**/*,com/ibm/text/**/*,com/ibm/math/**/*,com/ibm/richtext/**/*"
         basedir="${build.dir}"/>
  </target>

  <target name="richeditJar" depends="core">
    <jar jarfile="${richedit.jar.file}"
         includes="com/ibm/richtext/**/*,com/ibm/textlayout/**/*"
         basedir="${build.dir}"
         manifest="${richedit.manifest}"/>
  </target>

  <target name="richeditZip" depends="richeditJar">
    <!--Create a zip archive of the richedit jar and readme -->
    <zip zipfile="${richedit.zip.file}"
         basedir="${richedit.dist.dir}"
         includes="${richedit.cont.dir}/**/*"/>
  </target>
  
  <target name="zip" depends="docs,jar">
    <!--Create a zip archive of the source, docs, and jar file for
    distribution.  The zip file will be created in the directory above
    the root ICU4J directory.-->
    <zip zipfile="${zip.file}"
         basedir="."
         excludes="${richedit.dist.dir},${obsolete.dir}/**,**/*~,${src.dir}/**/*.class,${build.dir}/**,**/CVS/**/*"/>
  </target>

  <target name="zipsrc">
    <!--Create a zip archive of just the source for distribution.  The
    zip file will be created in the directory above the root ICU4J
    directory.-->
    <zip zipfile="${zipsrc.file}"
         basedir="."
         excludes="${richedit.dist.dir},${obsolete.dir}/**,**/*~,${src.dir}/**/*.class,${build.dir}/**,${doc.dir}/**,${jar.file},**/CVS/**/*"/>
  </target>

  <target name="clean">
    <deltree dir="${build.dir}"/>
    <deltree dir="${doc.dir}"/>
    <delete  file="${jar.file}"/>
  </target>

</project>
